<div fxLayout="row wrap" fxLayoutAlign="start center">
  <h1>
    Estimate Delivery Shipment
  </h1>
</div>
<div *ngIf="!iframeSrc" fxLayout="row wrap" fxLayoutAlign="start center">
  <div fxFlex="70" fxLayout="row wrap" fxLayoutAlign="start stretch">
    <ng-container *ngFor="let item of yearOption; let i=index">
      <button mat-button (click)="changeYear(item);">
        {{item}}
      </button>
    </ng-container>
  </div>
  <div fxFlex="30" fxLayout="row wrap" fxLayoutAlign="start stretch">
    <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-around stretch" fxLayoutGap="20">
      <button mat-raised-button color="primary" (click)="fileUpload.click()">
        Upload
      </button>
      <input hidden #fileUpload type="file" accept=".xlsx" (change)="uploadAndPreview($event)">
      <button mat-raised-button color="accent">
        Download
      </button>
    </div>
  </div>
</div>

<div *ngIf="iframeSrc" fxLayout="row wrap" fxLayoutAlign="start center" class="mb-4">
  <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="space-around stretch" fxLayoutGap="20">
    <button mat-raised-button (click)="cancel()">
      Cancel
    </button>
    <button mat-raised-button (click)="uploadSubmit()">
      Submit
    </button>
  </div>
</div>



<div *ngIf="!iframeSrc" fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="30" class="mt-6 mb-2">
  <mat-checkbox [(ngModel)]="monthAllSelect" class="example-margin" (ngModelChange)="checkAllMonth()">All
    month</mat-checkbox>
  <ng-container *ngFor="let item of monthOption; let i=index">
    <mat-checkbox [(ngModel)]="item.value" [ngClass]="{'text-month': item.value}"
      (ngModelChange)="checkMonth()">{{item.month}}</mat-checkbox>
  </ng-container>
</div>


<!-- <div class="container">
  <cdk-virtual-scroll-viewport [itemSize]="itemSize" class="viewport">
    <table mat-table [dataSource]="dataSource">
      <ng-container *ngFor="let column of displayedColumns" [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef> {{ column }} </th>
        <td mat-cell *matCellDef="let element">
          <ng-container [ngSwitch]="getColumnType(column)">
            <ng-container *ngSwitchCase="'text'">
              {{ element[column] }}
            </ng-container>
            <ng-container *ngSwitchCase="'input'">
              <input type="number" class="input-number" [value]="element[column]">
            </ng-container>
          </ng-container>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </cdk-virtual-scroll-viewport>
</div> -->


<div class="container">
  <cdk-virtual-scroll-viewport [itemSize]="20" class="viewport">
    <table>
      <colgroup>
        <col *ngFor="let column of columnRef; let i=index" [width]="column.width">
      </colgroup>
      <thead>
        <tr>
          <th *ngFor="let column of columnRef; let i=index">{{column.columnDef}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *cdkVirtualFor="let row of rows">
          <td *ngFor="let column of columnRef; let i=index" [style.textAlign]="column.align">
            <ng-container *ngIf="column.type=='text'">
              {{row[column.columnDef]}}
            </ng-container>
            <ng-container *ngIf="column.type=='input'">
              <input type="number" class="input-number">
            </ng-container>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td *ngFor="let column of columnRef; let i=index">
            foo
          </td>
        </tr>
      </tfoot>
    </table>
  </cdk-virtual-scroll-viewport>
</div>
